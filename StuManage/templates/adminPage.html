<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN">
<head>
	<title>Admin</title>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.4.0-rc.1/angular.min.js"></script>
	<link rel="stylesheet" href="/css/adminPage.css" />
	<link rel="stylesheet" href="/css/reset.css" />
</head>
    <body ng-app="myApp">
    	<div id="container" ng-controller="DemoController as demo">
    		<script>
    			var app=angular.module('myApp', []);

    			app.config(function($interpolateProvider) {
    				$interpolateProvider.startSymbol('//');
    				$interpolateProvider.endSymbol('//');
  			});

    			app.controller('DemoController', function($scope){
    				$scope.right1=true;
    				$scope.right2=false;
    				$scope.basicInfo=function(){
    					$scope.right1=true;
    					$scope.right2=false;
    				}
    				$scope.addAccount=function(){
    					$scope.right1=false;
    					$scope.right2=true;
    				}

    				$scope.mess='Passwords are not the same';
    				$scope.message=false;
    				$scope.passwd=[
    					{'origin': ''},
    					{'new1': ''},
    					{'new2': ''}
    				];
    				$scope.comparePass=function(){
    					if($scope.passwd.new1==$scope.passwd.new2)
    						$scope.message=false;
    					else{
    						$scope.message=true;
    					}
    				}
    				$scope.$watch('passwd.new1', $scope.comparePass);
    				$scope.$watch('passwd.new2', $scope.comparePass);
    			});
    		</script>
    		<div id="head">
    			<p id="title"><span>UW</span>innipeg</p>
    		</div>
    		<div id="main">
    			<div id="left">
    				<div id="up">
    					<ul>
    						<li><span>{{username}}</span></li>
    						<li class="nav">
    							<button ng-click="basicInfo()">Basic Information</button>
    						</li>
    						<li class="nav">
    							<button ng-click="addAccount()">Add Account</button>
    						</li>
    					</ul>
    				</div>
    			</div>
    			<div id="right1" ng-show="right1">
    				<div id="changePassword">
    					<form action="/changePasswd/" name="changePasswd" method="POST">
    						{% csrf_token %}
    						<div ng-show='message'>//mess//</div>
    						{{MESSAGE}}
    						<div class="setPass">
    							<span class="intro">Original Password: </span>
    							<input type="password"  class="PASSWD" name="originPasswd" ng-model="passwd.origin" placeholder="Original Password" required />
    						</div>
    						<div class="setPass">
    							<span class="intro">New Password: </span>
    							<input type="password"  class="PASSWD" name="newpasswd1" ng-model="passwd.new1" placeholder="new Password" required />
    						</div>
    						<div class="setPass">
    							<span class="intro">New Password Again: </span>
    							<input type="password"  class="PASSWD" name="newpasswd2" ng-model="passwd.new2" placeholder="new Password Again" required />
    						</div>
    						<input type="hidden" name="username" value="{{username}}" />
    						<div class="setPass">
    							<input type="submit" value="Submit" />
    						</div>
    					</form>
    				</div>
    			</div>
    			<div id="right2" ng-show="right2"></div>
    		</div>
    	</div>
    </body>
</html>